@model Savonia.Measurements.Models.ProviderModel

@{
    ViewBag.Title = "Delete Provider";
    int a=   ViewBag.AccessKeyCount;

    int m=  ViewBag.MeasurementCount;

    int s=  ViewBag.SensorCount;
}

<h2>Delete</h2>

<h3>Are you sure you want to delete this?</h3>
<div class="row">
    <h4>Provider</h4>
    <hr />
        <dl class="dl-horizontal">
            <dt>
                @Html.DisplayNameFor(model => model.Key)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Key)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Info)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Info)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Name)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Name)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Owner)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Owner)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.IsPublic)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.IsPublic)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Created)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Created)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Tag)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Tag)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Location)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Location)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.ContactEmail)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.ContactEmail)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.ActiveFrom)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.ActiveFrom)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.ActiveTo)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.ActiveTo)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.DataStorageUntil)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.DataStorageUntil)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.CreatedBy)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.CreatedBy)
            </dd>

        </dl>
    <hr/>
    <h3 class="text-danger">You are also going to delete these</h3>
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayName("Measurements Count")
        </dt>
        <dd>
            @m.ToString()
        </dd>
        <dt>
            @Html.DisplayName("Sensor Count")
        </dt>
        <dd>
            @s.ToString()
        </dd>
        <dt>
            @Html.DisplayName("AccessKey Count")
        </dt>
        <dd>
            @a.ToString()
        </dd>
    </dl>

        @using (Html.BeginForm())
        {
            @Html.AntiForgeryToken()

            <div class="form-actions no-color">
                <input type="submit" value="Delete" class="btn btn-danger" /> |
                @Html.ActionLink("Back to List", "Index")
            </div>
        }

</div>
@section scripts{
<script type="text/javascript">
    $(function () {

        var m = @m.ToString();
        var s = @s.ToString();
        var a = @a.ToString();
        $( "form" ).submit(function( event ) {
           
            var input = prompt("All the data will be permanently lost. Are you sure you want to delete these?\n\nProvider\nAccessKeys: "+a+"\nSensors: "+s+"\nMeasurements: "+m+"\n\nType: 'DELETE' to Confirm!");
            if (input == "DELETE") {
                return;
            }
            else {
                event.preventDefault();
            }                
        });
    });
</script>
    }
